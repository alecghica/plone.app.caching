<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:zcml="http://namespaces.zope.org/zcml"
    xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
    i18n_domain="plone.app.caching">
    
    <include package="z3c.zcmlhook" file="meta.zcml" />
    
    <include package="plone.caching" />
    <include package="plone.app.registry" />
    
    <include package=".browser" />
    <include package=".operations" />
    
    <genericsetup:registerProfile
        name="default"
        title="HTTP caching support"
        directory="profiles/default"
        description="Installs plone.app.caching"
        provides="Products.GenericSetup.interfaces.EXTENSION"
        />
    
    <genericsetup:importStep
        name="plone.app.caching"
        title="Plone caching - additional installation steps"
        description="Imperative configuration for plone.app.caching"
        handler=".setuphandlers.importVarious"
        />
    
    <zcml:customAction
        handler=".setuphandlers.enableExplicitMode"
        order="1000000"
        />
    
    <!-- Default caching configuration -->
    <include file="caching.zcml" />
    
    <!-- Lookup for page template resources -->
    <adapter factory=".lookup.PageTemplateLookup" />
    
    <!-- ILastModified adapters -->
    <adapter factory=".lastmodified.pageTemplateDelegateLastModified" />
    <adapter factory=".lastmodified.OFSFileLastModified" />
    <adapter factory=".lastmodified.FSObjectLastModified" />
    <adapter factory=".lastmodified.CatalogableDublinCoreLastModified" />
    <adapter factory=".lastmodified.DCTimesLastModified" />
    <adapter factory=".lastmodified.ResourceLastModified" />
    
</configure>
